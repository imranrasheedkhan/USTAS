<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head></h:head>
   
<h:body>
	<ui:composition>  
		<fieldset class="fieldset">
			<legend class="legend">
				<font color="orange" size="4">Search Shift</font>
			</legend>
			<table id="shift_Creation" class="table" cellpadding="10"
				style="width: 45%" align="center">
				<tr>
				<td>Shift Name:</td>
				<td><h:inputText value="#{shiftMasterMB.model.searchShift}" styleClass="inputText" id="shift_name"/></td>
				
				<td>
				 <a4j:commandButton render="table" value="Search" actionListener="#{shiftMasterMB.selectShiftDetail}"  execute="shift_name"  id="btnSearch"  oncomplete="navToShiftMaster()" ></a4j:commandButton>
				 </td> 
				</tr>
			 </table>  
	  		  <div align="right" id="shiftDetail" style="visibility:hidden; float:left;right:50px;top:200px;height:100%; width:700px; margin-left:20px;">
			    <rich:dataTable value="#{shiftMasterMB.model.shiftDetailList}" 
					var="record" id="table"  rowKeyVar="rowNo"  
					style="width:100%;height:100%;text-align:center"
					styleClass="searchTable" rows="5" headerClass="searchTableHeader"
					onrowmousemove="this.style.backgroundColor='#FFEBDA'"
					onrowmouseout="this.style.backgroundColor='#{a4jSkin.rowBackgroundColor}'"
					rowClasses="odd-row,even-row">    
					<rich:column width="15%">     
						<f:facet name="header">
						<h:outputText value="Shift Name"></h:outputText>   
						</f:facet>
						<h:outputText value="#{record.shiftName}"></h:outputText>
						</rich:column>
						 <rich:column width="15%">
						 <f:facet name="header">
						<h:outputText value="Shift Description"></h:outputText>
						</f:facet>
						<h:outputText value="#{record.shiftDesc}"></h:outputText>  
					    </rich:column>
					    <rich:column width="15%">
						 <f:facet name="header">
						  <h:outputText value="In time"></h:outputText>
						 </f:facet>
						<h:outputText value="#{record.inTime}"></h:outputText>
					   </rich:column>
					   
					    <rich:column width="15%">
						 <f:facet name="header">
						  <h:outputText value="Out time"></h:outputText>
						 </f:facet>
						  <h:outputText value="#{record.outTime}"></h:outputText>
					    </rich:column>
					     <rich:column width="15%">
						 <f:facet name="header">
						   <h:outputText value="Number of WeekOFF"></h:outputText>
						 </f:facet>
						<h:outputText value="#{record.weekOfNo}"></h:outputText>
					</rich:column>
					 <rich:column width="15%">
						 <f:facet name="header">
						   <h:outputText value="Action"></h:outputText>
						 </f:facet>
					  <a4j:commandLink     action="#{shiftMasterMB.selectShiftupdate}" execute="@this" oncomplete="navToShiftDetail()" id="updateBtn" >
                             <f:setPropertyActionListener target="#{shiftMasterMB.model.shiftInfo}" value="#{record}"></f:setPropertyActionListener>
                            <h:graphicImage      value="/resources/images/editrecord.gif"/>
                      </a4j:commandLink>
					</rich:column>
				
				 
				 </rich:dataTable>
			  
			  </div>
				</fieldset>
				
				<script>
				   var navToShiftMaster=  function() {
					   
					    document.getElementById('shiftDetail').style.visibility="visible";
					   
	                  };
	                  
	                  var navToShiftDetail =  function() {
	    					
	   					 changePage('/application/shift_management/shift_master.xhtml');
	   					// alert("Validation Not Passed From Server Side");
	   					};   
				
				</script>
				</ui:composition>
		  </h:body>
	    </html>
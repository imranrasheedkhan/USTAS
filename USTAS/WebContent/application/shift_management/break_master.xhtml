<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head></h:head>
    <h:body>
      <ui:composition>
       
	    <fieldset class="fieldset">
	 
	      <legend class="legend"><font color="orange" size="4">Break Creation</font></legend>
	     
	         <table id="Break_master" class="table" cellpadding="10" style="width:100%" align="center">
	          <tbody style="width: 90%">  
	   <tr>
	        <td style="width: 100px"><h:outputText value="Break Name:"></h:outputText></td>
	        <td style="width: 50px"><h:inputText id="txt_name"  styleClass="inputText" value="#{breakMasterMB.model.breakInfo.breakType}" required="true" requiredMessage="Enter Break Name" size="25" maxlength="15" ></h:inputText></td>
	        <td> <rich:message  for="txt_name"/></td>
	   </tr>  
	      
	   <tr>
	        <td style="width: 100px"><h:outputText value="Break Description:"></h:outputText></td>
	        <td style="width: 50px"><h:inputText id="break_desc" styleClass="inputText" required="true" requiredMessage="Please Enter Description" value="#{breakMasterMB.model.breakInfo.desc}" size="25" maxlength="30"></h:inputText></td>
	         <td> <rich:message  for="break_desc"/></td>
	   </tr> 
	      
	   <tr>
	        <td style="width: 140px"><h:outputText value="Start Time(hh:mm:ss):"></h:outputText></td>
	        <td>
	        
	           <h:panelGroup id="txt_intime">
	              <rich:inputNumberSpinner id="breakStartTimeDetail1" value="#{breakMasterMB.model.starttimehr}" inputSize="2" pattern="HH" minValue="0" maxValue="23" cycled="true"></rich:inputNumberSpinner>&nbsp;
	              <rich:inputNumberSpinner id="breakStartTimeDetail2" value="#{breakMasterMB.model.starttimemin}" inputSize="2" pattern="mm" minValue="0" maxValue="59" cycled="true"></rich:inputNumberSpinner>&nbsp;
	              <rich:inputNumberSpinner id="breakStartTimeDetail3" value="#{breakMasterMB.model.starttimesec}" inputSize="2" pattern="ss" minValue="0" maxValue="59" cycled="true"></rich:inputNumberSpinner>  
                 </h:panelGroup></td>
	   </tr>   
	             
	      
	   <tr>
	        <td style="width: 140px"><h:outputText value="End Time(hh:mm:ss) :"></h:outputText></td>
	        <td>
	              <h:panelGroup id="txt_out" >    
	           <rich:inputNumberSpinner   id="breakEndTimeDetail1" value="#{breakMasterMB.model.endtimehr}" inputSize="2" pattern="HH" minValue="0" maxValue="24" cycled="true"></rich:inputNumberSpinner>&nbsp;
	            <rich:inputNumberSpinner  id="breakEndTimeDetail2" value="#{breakMasterMB.model.endtimemin}" inputSize="2"  pattern="mm" minValue="0" maxValue="59" cycled="true"></rich:inputNumberSpinner>&nbsp;
	            <rich:inputNumberSpinner  id="breakEndTimeDetail3" value="#{breakMasterMB.model.endtimesec}" inputSize="2" pattern="ss" minValue="0" maxValue="59" cycled="true"></rich:inputNumberSpinner>
                
                </h:panelGroup>
                  </td>
	   </tr> 
	   
	   <tr>
	        <td style="width: 100px"><h:outputText value="Remarks :"></h:outputText></td>
	        <td><h:inputTextarea style="width:283px; height:60px;" onkeyup="maxTextAreaCharacter(this);" id="remarks" styleClass="inputText" value="#{breakMasterMB.model.breakInfo.comments}" size="25" /></td>
	   </tr> 
	      
	   <tr>
	        <td style="width: 100px"><h:outputText value="Is Active :"></h:outputText></td>
	        <td><h:selectBooleanCheckbox id="isActive" value="#{breakMasterMB.model.breakInfo.active}"></h:selectBooleanCheckbox></td>
	   </tr>  
	          </tbody>
	        </table>
	      
	    
	      
	       
        
	    </fieldset>
	
	     <div style="width:100%;" align="right">
               <h:button value="Clear" styleClass="orange" style="width:60px; height:30px;" ></h:button>&nbsp;
           
               <a4j:commandButton   value="Add" render="@form" onclick="if(!validateBreakTime()) return false;" 
                oncomplete="if(#{!facesContext.validationFailed})#{rich:component('confirmation')}.show();"  styleClass="addButton" style="width:60px; height:30px;"   
                actionListener="#{breakMasterMB.addBreak}" ></a4j:commandButton>&nbsp;
            
               <a4j:commandButton id="update" render="@form" onclick="if(!validateBreakTime()) return false;" 
               oncomplete="if(#{!facesContext.validationFailed})#{rich:component('confirmation')}.show();"  value="Update" 
               styleClass="updateButton" style="width:60px; height:30px;"   actionListener="#{breakMasterMB.updateBreak}" ></a4j:commandButton>
           </div>
	    
	      <script>
	              
	      $( document ).ready(function() {
              $(".updateButton").prop('disabled', true); 
            });
              function disableUpdate(){
            
                $(".addButton").prop('disabled', true);
                $(".updateButton").prop('disabled', false);
              }
                 function disableAdd(){
			      $(".addButton").prop('disabled', false);
	              $(".updateButton").prop('disabled', true); 
               }
                 
                 
	      
	      </script>
	  
	  
	    <fieldset class="fieldset">
	     <legend class="legend"><font color="orange" size="4" > Break Detail </font></legend>
	
	       <table id="Break_detail" class="table" cellpadding="10" style="width: 75%" align="center" >
	        <tbody>
             <tr align="center">
              <td >
               <h:inputText id="serch_id" value="#{breakMasterMB.model.searchKey}" styleClass="inputText"></h:inputText>
              </td>
              <td>
	           <a4j:commandButton action="#{breakMasterMB.display}" value="Search" styleClass="orange" style="width:60px;height:30px" render="table" execute="serch_id" id="searchbtn"></a4j:commandButton>
	          </td>  
              
             </tr>	        
	         <tr>
	          <td colspan="2" >
	            <rich:dataTable var="record"  id="table" value="#{breakMasterMB.model.breakList}"
                                style="width:100%; 
                                height:100%;
                                text-align:center"
                                styleClass="BreakTable"
                                rows="6" noDataLabel="No Record is Exist"
                                headerClass="BreakTableHeader"
                               	onrowmousemove="this.style.backgroundColor='#FFEBDA'"
                                onrowmouseout="this.style.backgroundColor='#{a4jSkin.rowBackgroundColor}'"
                                rowClasses="odd-row,even-row">
                        
                
                <rich:column width="15%">
                 <f:facet name="header">
                  <h:outputText value="Name"></h:outputText>
                 </f:facet>
                 <h:outputText value="#{record.breakType}"></h:outputText>
                </rich:column>    
        
         
         
                <rich:column width="15%">
                 <f:facet name="header">
                  <h:outputText value="Start Time"></h:outputText>
                 </f:facet>
                 <h:outputText value="#{record.startTime}"></h:outputText>
                </rich:column>    
         
         
                <rich:column width="15%">
                 <f:facet name="header">
                  <h:outputText value="End Time"></h:outputText>
                 </f:facet>
                 <h:outputText value="#{record.endTime}"></h:outputText>
                </rich:column>    
         
         
                <rich:column width="15%">
                 <f:facet name="header">
                  <h:outputText value="Total Time"></h:outputText>
                 </f:facet>
                     <h:outputText value="#{record.totalTime}"></h:outputText>
                </rich:column>
                
                <rich:column width="15%">
                 <f:facet name="header">
                  <h:outputText value="Action"></h:outputText>
                 </f:facet>
                 <a4j:commandLink action="#{breakMasterMB.edit}" execute="@this" id="edit" render="txt_name,break_desc,remarks,isActive,txt_intime,txt_out" onclick="disableUpdate();" >
                  <f:setPropertyActionListener target="#{breakMasterMB.model.breakInfo}" value="#{record}"></f:setPropertyActionListener>
                 <h:graphicImage      value="/resources/images/editrecord.gif"/>
                 </a4j:commandLink>
                </rich:column>
                <f:facet name="footer">
                   <rich:dataScroller id="scroller" for="table" maxPages="10"    
                        renderIfSinglePage="false" boundaryControls="hide"
                           fastControls="hide" />
                   </f:facet>  
                
               </rich:dataTable>    
              </td>
             </tr>	
            </tbody>
	       </table>  
	    
	     </fieldset>
	    </ui:composition>
  </h:body>

</html>